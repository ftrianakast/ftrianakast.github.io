---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { t, getLangFromUrl, getLocalizedPath } from '../../i18n';

const currentLang = getLangFromUrl(Astro.url);
---

<BaseLayout title={t(currentLang, 'music.title')}>
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
    <h1 class="text-4xl md:text-5xl font-macondo mb-4">{t(currentLang, 'music.heading')}</h1>
    <p class="text-xl text-slate-600 mb-16">{t(currentLang, 'music.subtitle')}</p>

    <!-- Cumbé Section -->
    <div class="mb-16">
      <h2 class="text-3xl font-macondo mb-4" style="color: var(--color-gold);">{t(currentLang, 'music.cumbe.title')}</h2>

      <!-- Floating Image -->
      <img
        src="/images/cumbe-sketch.png"
        alt="Cumbé ensemble sketch"
        class="float-right ml-6 mb-6 w-64 sm:w-80 rounded-lg"
        style="box-shadow: 0 4px 12px rgba(61, 40, 23, 0.15); shape-outside: margin-box;"
      />

      <p class="text-lg mb-4 font-macondo" style="color: var(--color-ink-light);">
        {t(currentLang, 'music.cumbe.subtitle')}
      </p>
      <p class="leading-relaxed mb-6" style="color: var(--color-ink-light);">
        {t(currentLang, 'music.cumbe.description')}
      </p>

      <!-- Blog Post Reference -->
      <div class="mb-12 pl-4" style="border-left: 3px solid var(--color-gold);">
        <p class="text-sm font-macondo mb-2" style="color: var(--color-gold);">From the blog</p>
        <a href="/en/blog/mi-aldea" class="block group">
          <h3 class="font-macondo text-lg mb-2 group-hover:text-[--color-gold] transition-colors" style="color: var(--color-ink);">
            Mi aldea no me olvida
          </h3>
          <p class="text-sm leading-relaxed" style="color: var(--color-ink-light);">
            Reflections on traditional Colombian music and its roots in the Montes de María, the Eastern Plains, and beyond →
          </p>
        </a>
      </div>

      <div class="clear-both"></div>
      <div class="ornamental-divider mb-12"></div>

      <div class="space-y-8 mb-16">
        <div>
          <h3 class="font-macondo text-xl mb-3 flex items-center" style="color: var(--color-gold);">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="color: var(--color-gold);">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>
            </svg>
            {t(currentLang, 'music.instruments.gaita.title')}
          </h3>
          <p style="color: var(--color-ink-light);">
            {t(currentLang, 'music.instruments.gaita.description')}
          </p>
        </div>

        <div>
          <h3 class="font-macondo text-xl mb-3 flex items-center" style="color: var(--color-gold);">
            <svg class="w-6 h-6 mr-2" style="color: var(--color-gold);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"/>
            </svg>
            {t(currentLang, 'music.instruments.bandola.title')}
          </h3>
          <p style="color: var(--color-ink-light);">
            {t(currentLang, 'music.instruments.bandola.description')}
          </p>
        </div>

        <div>
          <h3 class="font-macondo text-xl mb-3 flex items-center" style="color: var(--color-gold);">
            <svg class="w-6 h-6 mr-2" style="color: var(--color-gold);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
            </svg>
            {t(currentLang, 'music.instruments.harmony.title')}
          </h3>
          <p style="color: var(--color-ink-light);">
            {t(currentLang, 'music.instruments.harmony.description')}
          </p>
        </div>
      </div>
    </div>

    <div class="ornamental-divider mb-12"></div>

    <!-- Connect -->
    <div class="text-center">
      <h2 class="text-2xl font-macondo mb-4" style="color: var(--color-ink);">{t(currentLang, 'music.cta.title')}</h2>
      <p class="mb-6" style="color: var(--color-ink-light);">
        {t(currentLang, 'music.cta.description')}
      </p>
      <a href={getLocalizedPath('/contact', currentLang)} class="btn-primary inline-block px-8 py-3 rounded-lg font-medium">
        {t(currentLang, 'music.cta.button')}
      </a>
    </div>
  </div>
</BaseLayout>
